(this["webpackJsonpreact-jobly"]=this["webpackJsonpreact-jobly"]||[]).push([[0],{157:function(e,t,n){},200:function(e,t,n){},208:function(e,t,n){},215:function(e,t){},217:function(e,t){},228:function(e,t){},230:function(e,t){},258:function(e,t){},260:function(e,t){},261:function(e,t){},266:function(e,t){},268:function(e,t){},287:function(e,t){},299:function(e,t){},302:function(e,t){},319:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(144),s=n.n(c),i=(n(157),n(152)),o=n(14),u=n(2),l=n.n(u),j=n(5),b=n(7),p=(n(159),n(160),n(12)),m=n(8),d=a.a.createContext(),h=n(145),f=n(146),x=n(147),O=n.n(x),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||"http://localhost:3001",y=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,null,[{key:"request",value:function(){var t=Object(j.a)(l.a.mark((function t(n){var r,a,c,s,i,o,u=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]?u[2]:"get",console.debug("API Call:",n,r,a),c="".concat(v,"/").concat(n),s={Authorization:"Bearer ".concat(e.token)},i="get"===a?r:{},t.prev=6,t.next=9,O()({url:c,method:a,data:r,params:i,headers:s});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0.response),o=t.t0.response.data.error.message,Array.isArray(o)?o:[o];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCompanies",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:"")){e.next=7;break}return e.next=4,this.request("companies?name=".concat(t));case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.request("companies");case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",n.companies);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllJobs",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.length>0&&void 0!==r[0]?r[0]:"")){e.next=7;break}return e.next=4,this.request("jobs?title=".concat(t));case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.request("jobs");case 9:e.t0=e.sent;case 10:return n=e.t0,e.abrupt("return",n.jobs);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJob",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.job);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return n=e.sent,e.abrupt("return",n.token);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t),n,"patch");case 2:return r=e.sent,e.abrupt("return",r.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.user);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"applyForJob",value:function(){var e=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("users/".concat(t,"/jobs/").concat(n),{},"post");case 2:return r=e.sent,e.abrupt("return",r.applied);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();y.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiaXNBZG1pbiI6ZmFsc2UsImlhdCI6MTU5ODE1OTI1OX0.FtrMwBQwe6Ue-glIFgz_Nf8XxRT2YecFCiSpYL0fCXc";var g=y,N=n(0);var w=function(e){var t=e.job,n=Object(r.useContext)(d),a=n.currentUser,c=n.applyForJob,s=t.id,i=t.title,o=t.salary,u=t.equity,b=t.companyName,p=!!(null===a||void 0===a?void 0:a.applications)&&a.applications.includes(s);function m(){return(m=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(s);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(N.jsx)("div",{className:"card w-75 mb-3",children:Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsx)("h5",{className:"card-title",children:i}),Object(N.jsx)("h5",{className:"card-title",children:b}),Object(N.jsxs)("p",{className:"card-text",children:["Salary: ",o]}),Object(N.jsxs)("p",{className:"card-text",children:["Equity:",u]}),!p&&Object(N.jsx)("button",{onClick:function(e){return m.apply(this,arguments)},className:"btn btn-success",children:"Apply"}),p&&Object(N.jsx)("button",{className:"btn btn-outline-success",children:"APPLIED"})]})})};n(200);var k=function(){var e=Object(r.useContext)(d),t=e.currentUser,n=e.token,a=null===t||void 0===t?void 0:t.applications,c=Object(r.useState)([]),s=Object(b.a)(c,2),i=s[0],o=s[1];return Object(r.useEffect)(Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.map(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getJob(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a){e.next=3;break}return e.abrupt("return");case 3:return e.t0=o,e.next=6,t();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)}))),[a]),Object(N.jsx)("div",{className:"Home h-100 d-flex flex-column justify-content-center align-items-center",children:n?Object(N.jsxs)("div",{className:"container",children:[Object(N.jsxs)("h1",{children:["Welcome",", "+(null===t||void 0===t?void 0:t.firstName),"!"]}),Object(N.jsx)("h4",{className:"my-5",children:"Here are the jobs that you've applied to:"}),Object(N.jsx)("div",{className:"row",children:i.map((function(e){return Object(N.jsx)("div",{className:"col-md-3",children:Object(N.jsx)(w,{job:e})})}))})]}):Object(N.jsxs)("div",{className:"text-light d-flex flex-column justify-content-center align-items-center",children:[Object(N.jsx)("h1",{children:"Welcome to Jobly!"}),Object(N.jsx)("h3",{children:"Your dream career starts here."})]})})};var S=function(e){var t=e.company,n=t.name,r=t.description,a=t.handle;return Object(N.jsx)(p.b,{className:"Link",style:{color:"black",textDecoration:"none"},to:"companies/".concat(a),children:Object(N.jsx)("div",{className:"card",children:Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsx)("h5",{className:"card-title",children:n}),Object(N.jsx)("p",{className:"card-text",children:r})]})})})};var C=function(e){var t=e.addSearchTerm,n=Object(r.useState)(""),a=Object(b.a)(n,2),c=a[0],s=a[1];return Object(N.jsxs)("form",{className:"my-2 d-flex",onSubmit:function(e){e.preventDefault(),t(c),s("")},children:[Object(N.jsx)("div",{className:"form-group mb-2 col-md-5",children:Object(N.jsx)("input",{type:"text",className:"form-control",id:"search",name:"searchTerm",value:c.searchTerm,placeholder:"Enter a search term",onChange:function(e){s(e.target.value)}})}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Search"})})]})};var E=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1],u=Object(r.useContext)(d).token;return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAllCompanies();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAllCompanies(i);case 2:t=e.sent,console.log("COMPANY LIST",t),a(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i&&function(){e.apply(this,arguments)}()}),[i]),n.length?(console.log("Inside companies!",u.token),Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"m-3",children:[Object(N.jsx)("h1",{children:"Companies"}),Object(N.jsx)(C,{addSearchTerm:function(e){o(e)}}),n.map((function(e){return Object(N.jsx)("div",{className:"col-sm-5 mt-3",children:Object(N.jsx)(S,{company:e})},e.handle)}))]})})):Object(N.jsx)("div",{children:"Loading...."})};var I=function(){var e=Object(r.useContext)(d).token,t=Object(m.h)().handle,n=Object(r.useState)([]),a=Object(b.a)(n,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getCompany(t);case 2:n=e.sent,s(n.jobs);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.length?Object(N.jsxs)("div",{children:[e&&Object(N.jsx)("div",{children:c.map((function(e){return Object(N.jsx)(w,{job:e},e.id)}))}),!e&&Object(N.jsx)(m.a,{to:"/login"})]}):Object(N.jsx)("div",{children:"Loading...."})};var F=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1],u=Object(r.useContext)(d),p=(u.token,u.currentUser);return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAllJobs();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAllJobs(i);case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i&&function(){e.apply(this,arguments)}()}),[i]),n.length?Object(N.jsx)("div",{className:"m-3",children:p&&Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Jobs"}),Object(N.jsx)(C,{addSearchTerm:function(e){o(e)}}),n.map((function(e){return Object(N.jsx)(w,{job:e},e.id)}))]})}):Object(N.jsx)("div",{children:"Loading...."})},U=n(24),P=function(){return Object(N.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Invalid username/password."})};var L=function(e){var t=e.loginUser,n=Object(r.useContext)(d).isInvalidLogin,a=Object(m.g)(),c=Object(r.useState)({username:"",password:""}),s=Object(b.a)(c,2),i=s[0],u=s[1];function p(e){var t=e.target,n=t.name,r=t.value;u((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(U.a)({},n,r))}))}function h(){return(h=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(i);case 3:a.push("/");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(N.jsx)("div",{className:"container my-2",children:Object(N.jsxs)("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center",children:[Object(N.jsx)("h1",{children:"Login"}),n&&Object(N.jsx)(P,{}),Object(N.jsxs)("form",{className:"w-100 d-flex flex-column justify-content-center align-items-center",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(N.jsxs)("div",{className:"form-group col-sm-4 my-2",children:[Object(N.jsx)("label",{htmlFor:"username",children:"Username"}),Object(N.jsx)("input",{onChange:p,type:"text",className:"form-control",id:"username","aria-describedby":"emailHelp",name:"username",value:i.username,placeholder:"Enter username"})]}),Object(N.jsxs)("div",{className:"form-group col-sm-4 my-2",children:[Object(N.jsx)("label",{htmlFor:"password",children:"Password"}),Object(N.jsx)("input",{onChange:p,type:"password",className:"form-control",id:"password",name:"password",value:i.password,placeholder:"Password"})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})};var A=function(e){var t=e.signUp,n=Object(m.g)(),a=Object(r.useState)({username:"",password:"",firstName:"",lastName:"",email:""}),c=Object(b.a)(a,2),s=c[0],i=c[1];function u(e){var t=e.target,n=t.name,r=t.value;i((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(U.a)({},n,r))}))}function p(){return(p=Object(j.a)(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t(s);case 3:n.push("/");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(N.jsx)("div",{className:"container my-2",children:Object(N.jsxs)("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center",children:[Object(N.jsx)("h1",{children:"Signup"}),Object(N.jsxs)("form",{className:"w-100 d-flex flex-column justify-content-center align-items-center",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(N.jsxs)("div",{className:"form-group col-sm-6",children:[Object(N.jsx)("label",{htmlFor:"username",children:Object(N.jsx)("h6",{children:"Username"})}),Object(N.jsx)("input",{onChange:u,type:"text",className:"form-control my-2",id:"username",name:"username",value:s.username,"aria-describedby":"emailHelp",placeholder:"Enter username"})]}),Object(N.jsxs)("div",{className:"form-group col-sm-6",children:[Object(N.jsx)("label",{htmlFor:"password",children:Object(N.jsx)("h6",{children:"Password"})}),Object(N.jsx)("input",{onChange:u,type:"password",className:"form-control my-2",id:"password",name:"password",value:s.password,placeholder:"Password"})]}),Object(N.jsxs)("div",{className:"form-group col-sm-6",children:[Object(N.jsx)("label",{htmlFor:"firstName",children:Object(N.jsx)("h6",{children:"First Name"})}),Object(N.jsx)("input",{onChange:u,type:"text",className:"form-control my-2",id:"firstName",name:"firstName",value:s.firstName,placeholder:"First Name"})]}),Object(N.jsxs)("div",{className:"form-group col-sm-6",children:[Object(N.jsx)("label",{htmlFor:"lastName",children:Object(N.jsx)("h6",{children:"Last Name"})}),Object(N.jsx)("input",{onChange:u,type:"text",className:"form-control my-2",id:"lastName",name:"lastName",value:s.lastName,placeholder:"Last Name"})]}),Object(N.jsxs)("div",{className:"form-group col-sm-6",children:[Object(N.jsx)("label",{htmlFor:"email",children:Object(N.jsx)("h6",{children:"Email"})}),Object(N.jsx)("input",{onChange:u,type:"text",className:"form-control my-2",id:"email",name:"email",value:s.email,placeholder:"Email"})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})};var T=function(){var e=Object(r.useContext)(d),t=e.currentUser,n=e.token,a=e.updateUser,c=Object(m.g)(),s=t.firstName,i=t.lastName,u=t.email,p=Object(r.useState)({firstName:s,lastName:i,email:u}),h=Object(b.a)(p,2),f=h[0],x=h[1];function O(e){var t=e.target,n=t.name,r=t.value;x((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(U.a)({},n,r))}))}function v(){return(v=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a(t.username,f);case 3:c.push("/");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("current user PROFILE",t),console.log("token PROFILE",n),console.log("localstorage PROFILE!",localStorage.getItem("userToken")),Object(N.jsxs)("div",{className:"container mt-3",children:[Object(N.jsx)("h1",{children:"Edit your profile"}),Object(N.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"username",children:Object(N.jsx)("b",{children:"USERNAME"})}),Object(N.jsx)("p",{children:t.username})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(N.jsx)("input",{onChange:O,type:"text",className:"form-control my-2",id:"firstName",name:"firstName",value:f.firstName||t.firstName})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(N.jsx)("input",{onChange:O,type:"text",className:"form-control my-2",id:"lastName",name:"lastName",value:f.lastName||t.lastName})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"email",children:"Email"}),Object(N.jsx)("input",{onChange:O,type:"text",className:"form-control my-2",id:"email",name:"email",value:f.email||t.email})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"password",children:"Confirm Password"}),Object(N.jsx)("input",{onChange:O,type:"password",className:"form-control my-2",id:"password",name:"password",value:f.password,placeholder:"Password"})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})};var J=function(e){var t=e.signUp,n=e.loginUser,a=Object(r.useContext)(d),c=a.token,s=a.isInvalidLogin,i=Boolean(c);return Object(N.jsxs)(m.d,{children:[Object(N.jsx)(m.b,{exact:!0,path:"/",children:s?Object(N.jsx)(m.a,{to:"/login"}):Object(N.jsx)(k,{})}),Object(N.jsx)(m.b,{exact:!0,path:"/companies",children:i?Object(N.jsx)(E,{}):Object(N.jsx)(m.a,{to:"/login"})}),Object(N.jsx)(m.b,{exact:!0,path:"/companies/:handle",children:i?Object(N.jsx)(I,{}):Object(N.jsx)(m.a,{to:"/login"})}),Object(N.jsx)(m.b,{exact:!0,path:"/jobs",children:i?Object(N.jsx)(F,{}):Object(N.jsx)(m.a,{to:"/login"})}),Object(N.jsx)(m.b,{exact:!0,path:"/login",children:Object(N.jsx)(L,{loginUser:n})}),Object(N.jsx)(m.b,{exact:!0,path:"/signup",children:Object(N.jsx)(A,{signUp:t})}),Object(N.jsx)(m.b,{exact:!0,path:"/profile",children:i?Object(N.jsx)(T,{}):Object(N.jsx)(m.a,{to:"/login"})}),Object(N.jsx)(m.a,{to:"/"})]})},R=(n(208),n(149)),q=n(150),D=Object(N.jsx)(R.a,{icon:q.a,size:"2x"});var _=function(e){var t=e.logout,n=Object(r.useContext)(d).token;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(N.jsx)(p.b,{to:"/",className:"navbar-nav nav-brand text-light mr-auto",children:D}),n&&Object(N.jsx)("nav",{className:"navbar-expand navbar",id:"navbarNav",children:Object(N.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(N.jsx)("li",{className:"nav-item mr-4",children:Object(N.jsx)(p.c,{to:"/companies",className:"nav-link",children:"Companies"})}),Object(N.jsx)("li",{className:"nav-item mr-4",children:Object(N.jsx)(p.c,{to:"/jobs",className:"nav-link",children:"Jobs"})}),Object(N.jsx)("li",{className:"nav-item mr-4",children:Object(N.jsx)(p.c,{to:"/profile",className:"nav-link",children:"Profile"})}),Object(N.jsx)("li",{className:"nav-item mr-4",children:Object(N.jsx)(p.c,{onClick:t,to:"/logout",className:"nav-link",children:"Logout"})})]})}),!n&&Object(N.jsx)("nav",{className:"navbar navbar-expand",id:"navbarNav",children:Object(N.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(N.jsx)("li",{className:"nav-item mr-4",children:Object(N.jsx)(p.c,{to:"/login",className:"nav-link",children:"Login"})}),Object(N.jsx)("li",{className:"nav-item mr-4",children:Object(N.jsx)(p.c,{to:"/signup",className:"nav-link",children:"Signup"})})]})})]})})},B=n(151),H=n.n(B);var M=function(){var e=Object(r.useState)(localStorage.getItem("userToken")||null),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),s=Object(b.a)(c,2),u=s[0],m=s[1],h=Object(r.useState)(!1),f=Object(b.a)(h,2),x=f[0],O=f[1];function v(){return(v=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.register(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.login(t);case 3:n=e.sent,a(n.token),O(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(){return(w=Object(j.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.update(t,n);case 2:r=e.sent,m((function(e){return Object(o.a)(Object(o.a)({},e),{},{resp:r})})),console.log("UPDATED USER",u);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g.applyForJob(u.username,t);case 4:n=e.sent,m((function(e){return Object(o.a)(Object(o.a)({},e),{},{applications:[].concat(Object(i.a)(e.applications),[n])})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.token=n,e.next=3,g.getUser(H.a.decode(n).username);case 3:t=e.sent,m(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[n]),Object(r.useEffect)((function(){n?localStorage.setItem("userToken",n):localStorage.clear()}),[n]),console.log("current user",u),Object(N.jsx)("div",{className:"container-fluid mx-0 px-0 h-100",children:Object(N.jsx)(p.a,{children:Object(N.jsxs)(d.Provider,{value:{token:n,isInvalidLogin:x,currentUser:u,updateUser:function(e,t){return w.apply(this,arguments)},applyForJob:function(e){return k.apply(this,arguments)}},children:[Object(N.jsx)(_,{logout:function(){a(null)}}),Object(N.jsx)(J,{signUp:function(e){return v.apply(this,arguments)},loginUser:function(e){return y.apply(this,arguments)}})]})})})};s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(M,{})}),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.18f24349.chunk.js.map